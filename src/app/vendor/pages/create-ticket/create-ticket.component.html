<div class="ticket-release-container">
  <!-- Banner Section -->
  <div class="banner">
    <img src="assets/images/ticket-placeholder.jpg" alt="Event Ticket" class="banner-image" />
    <h1>Taylor Swift Eras Tour 2024</h1>
  </div>

  <!-- Current Pool Status -->
  <div class="pool-status">
    <h2>Available Tickets in Queue</h2>
    <div class="ticket-count">{{ poolStatus.currentTicketCount }}</div>
  </div>

  <!-- Release Form -->
  <form [formGroup]="ticketForm" (ngSubmit)="onSubmit()" class="release-form">
    <div class="form-group">
      <label for="ticketCount">Number of Tickets to Release</label>
      <span class="p-input-icon-right">
        <i *ngIf="loading" class="pi pi-spin pi-spinner"></i>
        <input
          pInputText
          id="ticketCount"
          type="number"
          formControlName="ticketCount"
          placeholder="Enter number of tickets"
        />
      </span>

      <small
        class="p-error block"
        *ngIf="ticketForm.get('ticketCount')?.errors?.['required'] && ticketForm.get('ticketCount')?.touched"
      >
        Number of tickets is required
      </small>
      <small
        class="p-error block"
        *ngIf="ticketForm.get('ticketCount')?.errors?.['min'] && ticketForm.get('ticketCount')?.touched"
      >
        Number must be greater than 0
      </small>
    </div>

    <button
      pButton
      type="submit"
      [loading]="loading"
      [disabled]="!ticketForm.valid || loading"
      label="Release Tickets"
      icon="pi pi-plus"
      class="p-button-primary"
    ></button>
  </form>
</div>

<p-toast></p-toast>
